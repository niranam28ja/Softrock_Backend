"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const fs = require("fs");
const utl = require("util");
function createFileCredentialsProvider(jsonFile) {
    return () => tslib_1.__awaiter(this, void 0, void 0, function* () {
        const buf = yield utl.promisify(fs.readFile)(jsonFile);
        const cfg = JSON.parse(buf.toString());
        if (typeof cfg['secretId'] != 'string') {
            return Promise.reject('Missing `secretId` configuration key');
        }
        if (typeof cfg['secretKey'] != 'string') {
            return Promise.reject('Missing `secretKey` configuration key');
        }
        return {
            secretId: cfg.secretId,
            secretKey: cfg.secretKey
        };
    });
}
exports.createFileCredentialsProvider = createFileCredentialsProvider;
function createSimpleCredentialsProvider(secretId, secretKey) {
    return () => tslib_1.__awaiter(this, void 0, void 0, function* () {
        return ({
            secretId,
            secretKey
        });
    });
}
exports.createSimpleCredentialsProvider = createSimpleCredentialsProvider;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlZHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9saWIvY3JlZHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEseUJBQXlCO0FBQ3pCLDRCQUE0QjtBQVk1QixTQUFnQiw2QkFBNkIsQ0FBQyxRQUFnQjtJQUMxRCxPQUFPLEdBQXlDLEVBQUU7UUFDOUMsTUFBTSxHQUFHLEdBQUcsTUFBTSxHQUFHLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN2RCxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZDLElBQUksT0FBTyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksUUFBUSxFQUFFO1lBQ3BDLE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO1NBQ2pFO1FBQ0QsSUFBSSxPQUFPLEdBQUcsQ0FBQyxXQUFXLENBQUMsSUFBSSxRQUFRLEVBQUU7WUFDckMsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLHVDQUF1QyxDQUFDLENBQUM7U0FDbEU7UUFDRCxPQUFPO1lBQ0gsUUFBUSxFQUFFLEdBQUcsQ0FBQyxRQUFRO1lBQ3RCLFNBQVMsRUFBRSxHQUFHLENBQUMsU0FBUztTQUMzQixDQUFDO0lBQ04sQ0FBQyxDQUFBLENBQUM7QUFDTixDQUFDO0FBZkQsc0VBZUM7QUFRRCxTQUFnQiwrQkFBK0IsQ0FBQyxRQUFnQixFQUFFLFNBQWlCO0lBQy9FLE9BQU8sR0FBeUMsRUFBRTtRQUFDLE9BQUEsQ0FBQztZQUNoRCxRQUFRO1lBQ1IsU0FBUztTQUNaLENBQUMsQ0FBQTtNQUFBLENBQUM7QUFDUCxDQUFDO0FBTEQsMEVBS0MifQ==